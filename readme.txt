=== Affiliates ===
Contributors: itthinx
Donate link: http://www.itthinx.com/plugins/affiliates
Tags: ads, advertising, affiliate, affiliate marketing, affiliate plugin, affiliate tool, affiliates, bucks, contact form, crm, earn money, e-commerce, lead, link, marketing, money, online sale, order, partner, referral, referral links, referrer, shopping cart, sales, site, track, transaction, wordpress
Requires at least: 3.0
Tested up to: 3.3.1
Stable tag: 1.3.2

The Affiliates plugin provides the right tools to maintain an Affiliate Marketing Program.

== Description ==

The Affiliates plugin provides the right tools to maintain an Affiliate Marketing Program.

**Important features include automated affiliate registration, an unlimited affiliate management section and the ability to integrate Affiliates with virtually any E-Commerce platform. Free integrations with eShop, Jigoshop and WooCommerce are available.**

**The Affiliates plugin provides an affiliate system for sellers, shops and developers who want to get started with their affiliate program right "out of the box".**

It also provides a solid framework for developers, who wish to build customized solutions based on a sound data model. With unlimited affiliate program management tools available on the back end and a set of shortcodes to provide Affiliates information on their performance on the front end, there is everything you need to start an affiliate program.

Affiliates Pro and Enterprise provide additional features for sellers, shops and developers.

If you need to manage an **Affiliate Marketing Progam**, **track visits to your site** with **affiliate links**, the affiliates plugin is right for you. It provides the tools to maintain a **partner referral program**.

Simply put, the affiliates plugin is used to manage affiliates, create referrals and track visits to your site through affiliate links.
Referrals are stored and attributed to an affiliate, for example if clients place orders on your site and you need to credit your affiliates. You can show your affiliates how well they perform, by embedding simple shortcodes on a page.

**Free Integrations**

These integrations are based on the Affiliates plugin and can be downloaded directly. To use Affiliates together with an e-commerce plugin, you need to install the Affiliates plugin, the e-commerce plugin of your choice and the integration plugin:

- Integration with [eShop](http://wordpress.org/extend/plugins/eshop) : [Download](http://wordpress.org/extend/plugins/affiliates-eshop-light) | [Plugin page](http://www.itthinx.com/plugins/affiliates-eshop-light)
- Integration with [Jigoshop](http://wordpress.org/extend/plugins/jigoshop) : [Download](http://wordpress.org/extend/plugins/affiliates-jigoshop-light) | [Plugin page](http://www.itthinx.com/plugins/affiliates-jigoshop-light)
- Integration with [WooCommerce](http://wordpress.org/extend/plugins/woocommerce) : [Download](http://wordpress.org/extend/plugins/affiliates-woocommerce-light) | [Plugin page](http://www.itthinx.com/plugins/affiliates-woocommerce-light)

**Features**

* Real-time reporting

    Referrals and affiliate link statistics are recorded and available instantly, as transactions are processed.
    Integration with virtually any E-Commerce platform
    
    Information for affiliates on the front end: show affiliates information about their referrals including totals by currency and referral status.

* Affiliates provides an API which makes it compatible to use with virtually any E-Commerce and Membership system.

    Affiliates Pro Integration packs are available for several platforms. More integrations are added constantly on request.

* Unlimited Affiliates

    Simply have as many affiliates as you can get.
    
* Easy affiliate recruitment

    Affiliates can sign up automatically and can also be added manually with or without user accounts.

* Awesome support

    Just get in touch if you need help or have questions.

* Feedback is welcome

    Do you have feature requests or want to provide feedback? Please get in touch, the Affiliates plugins evolve with your needs.

* Free or contribution based

    The Affiliates plugin is free and Open Source. If you want to use it, simply install it from your WordPress Dashboard or download it from WordPress.org.

    Affiliates Pro and Enterprise are contributor releases with additional features. Contributions help to make the plugins even more awesome. Thanks!

* Quick & Easy Installation

    Upload/install and activate the plugin from your WordPress Dashboard.


__Feedback__ is welcome!
If you need help, have problems, want to leave feedback or want to provide constructive criticism, please do so here at the [Affiliates plugin page](http://www.itthinx.com/plugins/affiliates).

Please try to solve problems there before you rate this plugin or say it doesn't work. There goes a _lot_ of work into providing you with free quality plugins! Please appreciate that and help with your feedback. Thanks!

[Follow me on Twitter](http://twitter.com/itthinx) for updates on this and other plugins.

Readily deployable **Integration Packs** are available for contributors: Jigoshop, WP e-Commerce, Ecwid, eShop, s2Member, Wishlist Member, Contact Form 7, GetResponse, AWeber, ...

Other integrations are developed and made available on request.

Integration Packs include:

* **Affiliate Statistics** shortcodes and widgets for affiliates
* Configurable **Referral Views** for affiliates
* Embeddable Links and Banners for affiliates
* Premium support and special attention to feature requests for contributors

If you require **consulting services**, **support** or **customization** including **referrals integration** with your site, you may [contact me here](http://www.itthinx.com/). Please consider making a [donation](http://www.itthinx.com/plugins/affiliates) or sponsoring the plugin as a contributor.

After installing the plugin you can allow visitors to join your Affiliate Marketing Program. Enable registration, place the Affiliates Registration widget or shortcode on your site to let your new affiliates join. You can also start adding affiliates manually or let existing users join the Affiliate Program.
The default options should be suitable for many, but there are some options you might want to consider before you really start.

Full documentation is accessible on the [Affiliates plugin page](http://www.itthinx.com/plugins/affiliates) and [Affiliates Documentation](http://www.itthinx.com/documentation/affiliates).

[Videos](http://www.itthinx.com/plugins/affiliates-pro/videos/) : A collection of videos showing features available in the free Affiliates plugin and additional features available in Affiliates Pro and Enterprise.

Although the options are documented on each page and are generally intuitive or self-explaining, a quick introduction is useful ...

The 'Affiliates' menu provides these sections:

#### Affiliates ####

Here an overview is provided with charts showing referrals, visits and hits as well as summarized statistical data, including your currently operative affiliates, total hits, visits and referrals.

#### Manage Affiliates ####

This is where you add, remove and manage your affiliates. For each affiliate, the appropriate affiliate links are shown so that these can be conveniently employed on your affiliates' sites.

#### Visits & Referrals ####

Provides per-day information:

This page shows a summary of unique Visits, Hits and Referrals as well as a Ratio that shows the conversion rate (Referrals/Visits) on a daily basis.
Extended information can be shown, including information about pages or posts that produced referrals as well as their date and time and IP addresses that produced hits.
Data can be conveniently sorted and also filtered by affiliate and time period.

#### Affiliates & Referrals ####

Provides per-affiliate information:

For each affiliate, the number of unique Visitors, Hits, Referrals and Ratio (Referrals/Visitor) are shown.
Detailed information about each referral can be expanded as well as for hits.
Data can be conveniently sorted and also filtered by affiliate and time period.

#### Referrals ####

Provides per-referral information:

For each referral, the date and time, corresponding post and affiliate is shown.
Additional data and referral descriptions that have been recorded using the plugin's API are shown for each referral.
Data can be conveniently sorted and also filtered by affiliate and time period.

#### Options ####

##### Page generation #####

You can let Affiliates generate an Affiliate Area page for you: Press the _Generate_ button.
You will find a new page titled _Affiliate Area_ on your site which includes a login form, affiliate registration form, information about an affiliate's performance and the affiliate's link as well as a link to log out at the end of the page.
You can edit this page and adjust it according to your preferences.

##### Referral timeout #####

The referral timeout determines for how long a visit via an affiliate link will produce a referral.
This setting can be adjusted to range from the individual session to a number of days.

##### Direct referrals #####

The affiliates plugin can be used to store transaction data even if no affiliate was involved.
This settings determines if 'direct' referrals are stored. This are accessible through a 'Direct' affiliate who represents the site's owner or organization.

##### Robots #####

Hits from affiliate links that have originated from robots listed here will not be taken into account.

By default there are no entries but you can start with this example:

	Yahoo! Slurp
	YandexBot
	Googlebot
	DotBot
	discobot
	MJ12bot
	proximic
	Baiduspider
	bingbot
	Exabot
	AMZNKAssocBot

##### Affiliate ID encoding #####

Either plain or MD5-encoded affiliate IDs can be used. These are appended to your affiliate's link.

##### Permissions #####

For each role these permissions can be set:

* Access affiliates: to be able to see information accessible through the *Affiliates* menu in WordPress.
* Administer affiliates: to add, remove and manage affiliates.
* Administer options: grants access to make changes on this *Options* page.

##### Deactivation and data persistence #####

A convenient option is provided to delete all data that has been stored by the affiliates plugin.
This option is useful if you just need to start clean while you run tests.

#### What this plugin is not ####

It is not intended to keep track of links to other sites that you as a member of an affiliate program may have.

== Installation ==

1. Upload or extract the `affiliates` folder to your site's `/wp-content/plugins/` directory. Or you could use the *Add new* option found in the *Plugins* menu in WordPress.  
2. Enable the plugin from the *Plugins* menu in WordPress.
3. A new *Affiliates* menu will appear in WordPress, this is where you manage your affiliates and keep track of visits and referrals.
4. Go to _Affiliates > Options_ and click the *Generate* button. This will add a new page to your site with a default Affiliate Area that you can then edit if needed.
5. Now you can let your affiliates sign up directly from the Affiliate Area or start adding affiliates manually and provide them with affiliate links to your site.

The default options should be suitable for many, but there are some options you might want to consider before you really start. Please read the [Affiliates Documentation](http://www.itthinx.com/documentation/affiliates/) for additional information.

== Frequently Asked Questions ==

= Is there an option to create an Affiliate Area? =

You can let Affiliates generate an Affiliate Area page for you.
Go to _Affiliates > Options_ and press the _Generate_ button.
You will find a new page titled _Affiliate Area_ on your site which includes a login form, affiliate registration form, information about an affiliate's performance and the affiliate's link as well as a link to log out at the end of the page.
You can edit this page and adjust it according to your preferences. 

= How can I show affiliates their affiliate link? =

Note: You can create a page and embed a shortcode manually, or you can go to _Affiliates > Options_ and **press the _Generate_ button which will create the default Affiliate Area**.

Embed this shortcode on a page:

[affiliates_url]

This will render a link to your site with the affiliate ID appended.

If you want to link to a certain page, you can use this shortcode:

[affiliates_url]http://www.example.com/somepage[/affiliates_url]

If you want to show how a link would look like, you can use the shortcode within HTML as well, for example:

&lt;a href="[affiliates_url]"&gt;[affiliates_url]&lt;/a&gt;

Remember to use HTML entities for < and >.

= How can I show affiliates information about their performance? =

Note: You can create a page and embed a shortcode manually, or you can go to _Affiliates > Options_ and **press the _Generate_ button which will create the default Affiliate Area**.

Your affiliates will want to know how much they will and have earned and how many referrals they have made.

Use the [affiliates_referrals] shortcode to show how many referrals an affiliate has made and how much the affiliate has earned.

The [affiliates_referrals] shortcode will show the total number of referrals that have been accepted or closed for the affiliate.

To show the number of referrals for an affiliate by status, embed it like this:

Examples:

- Accepted referrals: [affiliates_referrals status="accepted"]
- Closed referrals: [affiliates_referrals status="closed"]
- Pending referrals: [affiliates_referrals status="pending"]
- Rejected referrals: [affiliates_referrals status="rejected"]

If you add the show="total" attribute to that shortcode, it will make a list of earnings by currency:

Examples:

Total amount for paid and unpaid referrals: [affiliates_referrals show="total"]

- Total for unpaid referrals: [affiliates_referrals show="total" status="accepted"]
- Total for paid referrals: [affiliates_referrals show="total" status="closed"]
- Total for referrals pending approval: [affiliates_referrals show="total" status="pending"]
- Total for rejected referrals: [affiliates_referrals show="total" status="rejected"]

= Is it possible to show content for affiliates or non-affiliates only? =

* Embed the content that you want to show to affiliates like this:

    [affiliates_is_affiliate]

    This is visible to affiliates who are logged in only.

    [/affiliates_is_affiliate]

* For content to show to non-affiliates use this:

    [affiliates_is_not_affiliate]

    You can see this if you are not logged in as an affiliate.

    [/affiliates_is_not_affiliate]

= Can we generate affiliate links for our partners? =

Yes.

This is one of the most important features.

= Can we track visits to our site through our partners' sites? =

Yes.

This is also one of the most important features and what the plugin is intended for, besides recording referrals and transaction data.

= Can we record referrals automatically when, for example, an order is placed? =

Yes.

The API provides the means to suggest referrals and record them.

= I am an affiliate of ACME and they provided me with an affiliate link. Is this plugin for me? =

No it isn't.

This plugin is for sites that need to manage *their* affiliates.

= Can I automatically store additional referral and transaction data? =

Yes you can do that through the plugin's API functions.

= I need to keep track of all transactions, including those that have not been initiated via an affiliate. Is this possible? =

Yes!

Referrals that are not attributable to an affiliate can be stored along with arbitrary transaction data and associated with the site owner.
There is a dedicated entry for that, called *Direct* in the affiliates list, representing the site owner.

= What about timezones? =

The plugin provides timezone-independent recording and retrieval of hits, visits and referrals.
Data is stored with reference to the server's settings and shown adjusted to the timezone settings in your WordPress site.

= How flexible is data recording and retrieval for referrals? =

You can store any information you need along with referrals.

= How ugly are affiliate links? =

Not very and there are several options including pretty permalinks.

Automatic affiliate id removal : the affiliate id is removed from your site's URL after the visitors land on your site.

= Is it possible to have permalinks that include affiliate data? =

Yes.

= Is it possible to have affiliate links to specific posts? =

Yes.

= How fine-grained are permissions? =

The plugin provides role-based permissions to access gathered affiliate data, administer affiliates and administer options.

== Screenshots ==

See [Affiliates Screenshots](http://www.itthinx.com/plugins/affiliates/affiliates-screenshots/)

1. Overview - shows summarized information based on current and historic data
2. Manage Affiliates - where affiliates links for your site's partners are maintained
3. Visits & Referrals - per-day view of information about visits and referrals generated through affiliate links
4. Affiliates & Referrals - per-affiliate view of information about visits and referrals generated through affiliate links
5. Referrals I - per-referrals view of information about referrals
6. Referrals II - showing detailed information stored along with referrals obtained through the Affiliates Contact widget
7. Options - where general settings are maintained
8. Menu - the Affiliates menu
9. Affiliates Contact Widget - Usable example widget for lead generation and referrals with applied commission rate
10. Affiliates Contact Widget - Visitor's view (theme Twenty Eleven)
11. Affiliates Registration Widget - Lets visitors sign up to your affiliate program, fully automated. Also available as a shortcode to embed on pages.
12. Affiliates Registration Widget - Visitor's view of the form. Also available as a shortcode to embed on pages.
13. Affiliates Registration Widget - View of a visitor's successful form submission to join the site's affiliate program.
14. Generated Affiliate Area page - This is what an affiliate sees on the page when logged in.

== Changelog ==

= 1.3.2 =
* 14 Day Charts added in overview showing referrals, visits and hits for the last 14 days.

= 1.3.1 =
* Added Affiliate Area page generation button in Affiliates > Options.
* Added more shortcodes: [affiliates_login_redirect], [affiliates_logout].
* Improved shortcodes to support nesting.

= 1.3.0 =
* Added new shortcodes: [affiliates_is_affiliate], [affiliates_is_not_affiliate], [affiliates_url], [affiliates_referrals] 

= 1.2.2 =
* No changes but a note on new integrations available.

= 1.2.1 =
* added detailed referral info on summary screen: shows number of referrals by status - accepted, closed, pending and rejected
* affiliates_added_affiliate action provided after a new affiliate has been added
* affiliates_updated_affiliate action provided after an affiliate has been edited
* Note that affiliates_deleted_affiliate action already existed
* Prepared language section for translations (but no translations added yet)

= 1.2.0 =
* Changed primary key of referrals table.
* Added reference column and index.

= 1.1.2 =
* Added type to referrals

= 1.1.1 =
* Added status parameter to referral suggestion

= 1.1.0 =
* Automated affiliate registration, providing affiliate registration widget, registration form shortcode and API
* Important bug fixes

= 1.0.4 =
* This release fixes the issue of md5-encoded links not showing up

= 1.0.3 =
* Fixed bug in Affiliates Overview : number of referrals shown was wrong

= 1.0.2 =
* Fixed remnant hard-coded table names. Thanks to Gernot Brandstötter who spotted these!

= 1.0.1 =
* Fixed errors showing up for PHP < 5.3

= 1.0.0 =
* Initial release (tested & working on production sites).

== Upgrade Notice ==

= 1.3.2 =
* 14 Day Charts added in overview showing referrals, visits and hits for the last 14 days.

= 1.3.1 =
* This release provides the option to generate an Affiliate Area page and more shortcodes that allow you to place a log in form and a log out link on a page. 

= 1.3.0 =
* Upgrade if you want to show affiliates information about their performance on the front end. There are new shortcodes that you can embed on a page.

= 1.2.2 =
* No changes but a note on new integrations available.

= 1.2.1 =
* Summary screen shows detailed referral info by referral status. See how many referrals have been accepted, closed, are pending or have been rejected in a glimpse.
* For developers - new actions: affiliates_added_affiliate, affiliates_updated_affiliate (affiliates_deleted_affiliate was there already)

= 1.2.0 =
* Referrals table changes: primary key changed to referral_id
* Added reference column and index 

= 1.1.2 =
Added type to referrals. Upgrade if using Pro or Enterprise or referral types are desired via API.

= 1.1.1 =
Added status parameter to referral suggestion. Upgrade if you use the API and want to store a status other than default.

= 1.1.0 =
This release automates the process of affiliate registration, providing a registration form for affiliates as a widget, a shortcode and API function.
It also includes important bug fixes. Please update now.

= 1.0.4 =
Bug fixes, please update.

= 1.0.3 =
Bug fixes, please update.

= 1.0.2 =
Important bug-fixes that affect use of the plugin with installations using non-default table name prefixes and multi-site installations.

= 1.0.1 =
Please upgrade if you see errors like these or if you are on PHP < 5.3:

Warning: call_user_func_array() [function.call-user-func-array]: First argument is expected to be a valid callback, 'Affiliates_Contact::_enqueue_scripts' was given in /var/www/wptest/wp-includes/plugin.php on line 395

Warning: call_user_func_array() [function.call-user-func-array]: First argument is expected to be a valid callback, 'Affiliates_Contact::_print_styles' was given in /var/www/wptest/wp-includes/plugin.php on line 395

= 1.0.0 =
There is no need to upgrade yet.

== API ==

	function affiliates_suggest_referral( $post_id, $description = '', $data = null, $amount = null, $currency_id = null, $status = null )
	
Suggest to record a referral. This function is used to actually store referrals and associated information.

**Parameters:**
	
- **int $post_id** the referral post id; where the transaction or referral originates

- **string $description** the referral description

- **string|array $data** (optional) additional information that should be stored along with the referral

- **string $amount** (optional) referral amount - if used, a $currency_id must be given

- **string $currency_id** (optional) three letter currency code - if used, an $amount must be given

- **string $status** (optional) the referral status, if none given the default will be used
	 
**Returns:**
	
- affiliate id if a valid referral is recorded, otherwise `false`

Full documentation is accessible on the [Affiliates plugin page](http://www.itthinx.com/plugins/affiliates) and [Affiliates Documentation](http://www.itthinx.com/documentation/affiliates).

[Videos](http://www.itthinx.com/plugins/affiliates-pro/videos/) : A collection of videos showing features available in the free Affiliates plugin and additional features available in Affiliates Pro and Enterprise.
